!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binance API Connection</title>
    <style>
        /* Оставляем те же стили */
    </style>
</head>
<body>
    <form id="binance-form">
        <h2>Подключение к Binance API</h2>
        <input type="text" id="api-key" placeholder="API Key">
        <input type="password" id="secret-key" placeholder="Secret Key">
        <button type="submit">Отправить</button>
        <div class="error-message" style="display:none;"></div>
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#binance-form').on('submit', function(event) {
                event.preventDefault();

                var apiKey = $('#api-key').val().trim();
                var secretKey = $('#secret-key').val().trim();

                if (!apiKey || !secretKey) {
                    $('.error-message').text("Пожалуйста, введите оба ключа").show();
                    return;
                }

                $.post('/ping', { apiKey }, function(response) {
                    if (response.message === 'Успешное подключение!') {
                        alert("Успешное подключение!");
                    } else {
                        $('.error-message').text(response.error).show();
                    }
                }).fail(function(xhr) {
                    $('.error-message').text("Ошибка подключения: " + xhr.responseJSON.error).show();
                });
            });
        });
    </script>
</body>
</html>
